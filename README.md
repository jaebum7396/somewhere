<p align="center">
  <img src="https://dev.cli.destiny-post.com/logo.png" alt="somewhere" width="50%">
</p>

<h3 align="center">💌 명리학 기반 사주 랜덤 채팅 서비스! 💌</h3>

<p align="center">
 사주를 기반으로 운명적인 만남을 주선하는<br>
 새로운 개념의 매칭 & 채팅 플랫폼!<br>
 당신의 사주를 분석해 최고의 상대를 찾아드리고, 대화에 도움이 되는 맞춤 조언까지!<br><br>

<br><br>

## 🌟 프로젝트 소개
**somewhere**은 전통 명리학과 현대 기술을 결합한 혁신적인 랜덤 채팅 서비스입니다.

사주팔자 분석을 통해 상대와의 궁합과 그에 따른 점수를 노출해 선택의 도움을 주고,  
대화 중에도 상대방의 성향과 특성을 고려한 맞춤형 대화 가이드를 제공하기 위해 개발하였습니다.

현대인들의 진정한 만남에 대한 갈증을 해소하고,  
의미 있는 인연을 만들어가는 **새로운 소셜 플랫폼**입니다.

- 명리학 기반 과학적 매칭 시스템
- AI가 제공하는 실시간 대화 조언  
- 깊이 있는 인간관계 형성 지원
- 안전하고 건전한 채팅 환경

진정한 운명적 만남을 경험해보세요.
<br><br><br>

## 📷 Screenshot
<img width="160" alt="스크린샷1" src="https://github.com/user-attachments/assets/c3d96dd8-3db1-4059-a6b1-4f6f0229ed59"/>
<img width="160" alt="스크린샷2" src="https://github.com/user-attachments/assets/6455a140-d01a-4c55-a321-eceb76b022e0"/>
<img width="160" alt="스크린샷3" src="https://github.com/user-attachments/assets/f824723c-3995-4115-9a93-bf96600084b8"/>
<img width="160" alt="스크린샷4" src="https://github.com/user-attachments/assets/6a8f3a62-b39d-49d0-acb8-681fe166e424"/>
<img width="160" alt="스크린샷5" src="https://github.com/user-attachments/assets/fd985a7f-6476-426c-a9c8-69f7001e1017"/>

</p>
<br>

## <a href="https://dev.cli.destiny-post.com" target="_blank">✨개발 서버 체험하기(클릭 시 리다이렉트 됩니다.)</a>

<div>

### 💝 체험용 계정 정보

| 휴대폰번호|
|:---:|
| **010-0000-(0001~0100)**|

💡 **사용 예시**:  휴대폰 로그인 입력창에 `01000000001` 입력 후 인증번호 전송 클릭. 클릭 시 바로 로그인

</div>


<br><br><br>

## 📌 서비스 개요

| 항목 | 내용 |
|------|------|
| 서비스명 | **somewhere** |
| 주요 컨셉 | AI에 의한 명리학 사주 분석을 통한 랜덤 채팅 매칭 서비스 |
| 핵심 기능 | 사주 기반 매칭, AI 대화 조언, 궁합 분석, 실시간 라이브브 채팅 |
| 주요 타겟 | 20~40대 진정한 만남을 원하는 사용자층 |
| 제공 가치 | 단순한 외모나 조건이 아닌, 운명을 믿는 사람들의 의미 있는 만남 창출 |
| 수익 모델 | 기본 매칭 무료 → 프리미엄 기능(상세 사주 분석, 무제한 매칭 등) 유료 제공 |
| 서비스 특징 | 전통 명리학 + 현대 AI 기술 융합, STOMP 기반 실시간 통신, 마이크로서비스 아키텍처 |
| 매칭 철학 | 겉모습보다 내면의 조화를 중시하는 **"운명적 인연"** 중심의 만남 주선 |

<br><br><br>

## ✨ 핵심 기능

### 🎯 **사주 기반 스마트 매칭**
- 생년월일시를 기반으로 한 정밀한 사주팔자 분석
- 오행 상생상극 원리를 적용한 궁합 점수 산출
- 성격, 가치관, 생활패턴까지 고려한 매칭 알고리즘
- 단순 랜덤이 아닌 **운명적 확률** 기반 상대 추천

### 📊 **상세 궁합 분석**
- 서로의 장단점과 보완점 상세 분석
- 관계 발전 단계별 조언 및 주의사항 제공
- 장기적 관계 전망과 조화로운 만남 방향 제시

### 🔒 **안전한 채팅 환경**
- JWT 기반 보안 인증 시스템
- Redis를 활용한 실시간 세션 관리
- 부적절한 내용 필터링 및 신고 시스템
- 개인정보 보호를 위한 단계적 정보 공개

### 💬 **AI 대화 조언 시스템(개발예정)**
- 상대방의 사주 특성을 분석한 맞춤형 대화 가이드 제공
- 실시간 대화 분위기 파악 및 적절한 화제 추천
- 상대방이 좋아할 만한 관심사와 성향 정보 제공
- 어색한 순간을 자연스럽게 넘어갈 수 있는 대화 팁

<br><br><br>

## 🛠️ 기술 스택

### 💻 **Backend**
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.2.3-green)](https://spring.io/projects/spring-boot)
[![Java](https://img.shields.io/badge/Java-17-orange)](https://www.oracle.com/java/)
[![JPA](https://img.shields.io/badge/JPA-yellow)](https://www.oracle.com/java/technologies/persistence-jsp.html)
[![QueryDSL](https://img.shields.io/badge/QueryDSL-5.0.0-brightgreen)](http://querydsl.com/)
[![Spring Cloud](https://img.shields.io/badge/Spring%20Cloud-2023.0.0-purple)](https://spring.io/projects/spring-cloud)
[![STOMP](https://img.shields.io/badge/STOMP-WebSocket-blue)](https://stomp.github.io/)

### 🗄️ **Database & Cache**
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-13-blue)](https://www.postgresql.org/)
[![Redis](https://img.shields.io/badge/Redis-7.0-red)](https://redis.io/)

### 🔧 **Infrastructure**
[![Docker](https://img.shields.io/badge/Docker-blue)](https://www.docker.com/)
[![Docker Compose](https://img.shields.io/badge/Docker%20Compose-lightblue)](https://docs.docker.com/compose/)
[![Jenkins](https://img.shields.io/badge/Jenkins-red)](https://www.jenkins.io/)
[![Linux](https://img.shields.io/badge/Linux-gray)](https://www.linux.org/)

### 🤖 **AI & External APIs**
[![OpenAI](https://img.shields.io/badge/OpenAI-GPT-brightgreen)](https://openai.com/)

<br><br><br>

## 🏗️ 시스템 아키텍처

### 🔄 **마이크로서비스 아키텍처**

```mermaid
graph TB
    Client[👤 클라이언트] --> Gateway[🌐 API Gateway<br/>destiny-post.com]
    
    Gateway --> Eureka[🔍 Eureka Server<br/>서비스 디스커버리]
    
    Eureka -.-> UserService[👥 User Service<br/>회원 관리]
    Eureka -.-> UserInfoService[📋 User Info Service<br/>사용자 정보]
    Eureka -.-> MatcherService[💕 Matcher Service<br/>매칭 알고리즘]
    Eureka -.-> SocketPublisher1[📡 Socket Publisher #1<br/>메시지 발행]
    Eureka -.-> SocketPublisher2[📡 Socket Publisher #2<br/>메시지 발행]
    Eureka -.-> SocketPublisher3[📡 Socket Publisher #3<br/>메시지 발행]
    Eureka -.-> LLMConnector[🤖 LLM Connector<br/>AI 대화 조언]
    Eureka -.-> LunarCalendar[🌙 Lunar Calendar<br/>음력 변환 & 사주]
    
    Gateway --> UserService
    Gateway --> UserInfoService
    Gateway --> MatcherService
    Gateway --> SocketPublisher1
    Gateway --> SocketPublisher2
    Gateway --> SocketPublisher3
    Gateway --> LLMConnector
    Gateway --> LunarCalendar
    
    UserInfoService -->|사주 요청| LunarCalendar
    LunarCalendar -->|사주/운세 데이터| UserInfoService
    
    MatcherService -->|사주 정보 조회| UserInfoService
    MatcherService -->|궁합 분석 요청| LLMConnector
    LLMConnector -->|궁합 결과| MatcherService
    
    SocketPublisher1 --> Redis[(🔴 Redis Streams<br/>메시지 큐)]
    SocketPublisher2 --> Redis
    SocketPublisher3 --> Redis
    
    Redis --> MessageConsumer1[📥 Message Consumer #1<br/>CRUD 처리]
    Redis --> MessageConsumer2[📥 Message Consumer #2<br/>CRUD 처리]
    Redis --> MessageConsumer3[📥 Message Consumer #3<br/>CRUD 처리]
    
    MessageConsumer1 --> PostgreSQL[(🐘 PostgreSQL<br/>메인 데이터베이스)]
    MessageConsumer2 --> PostgreSQL
    MessageConsumer3 --> PostgreSQL
    
    SocketPublisher1 --> WebSocket[🔌 WebSocket<br/>STOMP Protocol]
    SocketPublisher2 --> WebSocket
    SocketPublisher3 --> WebSocket
    WebSocket --> Client
    
    LLMConnector --> OpenAI[🧠 OpenAI GPT<br/>대화 분석 & 조언<br/>궁합 분석]
    
    UserService --> PostgreSQL
    UserInfoService --> PostgreSQL
    MatcherService --> PostgreSQL
    LunarCalendar --> PostgreSQL
    
    Redis --> RedisCache[⚡ Redis Cache<br/>세션 & 토큰 관리]
```

**🏗️ 사주 기반 매칭 플로우**
```
┌─────────────────────────────────────────────────────────┐
│              🔍 Eureka Discovery Server                │
│                서비스 등록 & 발견                        │
└─────────────────┬───────────────────────────────────────┘
                  │
    ┌─────────────┼─────────────┬─────────────┬─────────────┐
    │             │             │             │             │
┌───▼───┐    ┌───▼───┐    ┌───▼───┐    ┌───▼───┐    ┌───▼───┐
│ 👥    │    │ 📋   │◄──►│ 🌙    │    │ 💕   │    │ 🤖    │
│ User  │    │ User  │    │Lunar  │    │Matcher│◄──►│ LLM    │
│Service│    │ Info  │    │Calendar│   │Service│    │Connector│
└───────┘    └───┬───┘    └───────┘    └───┬───┘    └───┬───┘
                 │                         │            │
                 │                         │            ▼
                 │                         │     ┌─────────────┐
                 │                         │     │ 🧠 OpenAI   │
                 │                         │     │ • 궁합 분석  │
                 │                         │     │ • 대화 조언  │
                 │                         │     └─────────────┘
                 │                         │
                 └─────────────────────────┘
                           
        💫 매칭 프로세스 플로우:
        
        1️⃣ User Info ──사주 요청──► Lunar Calendar
                    ◄─사주/운세─┘
        
        2️⃣ Matcher ──사주 정보 조회──► User Info
        
        3️⃣ Matcher ──궁합 분석 요청──► LLM Connector
                  ◄─궁합 결과────┘        │
                                        ▼
                                   OpenAI GPT
                
                    ┌──────────────────────────┐
                    │   📡 Socket Publisher   │
                    │  ┌─────┬─────┬─────┐     │
                    │  │ #1  │ #2  │ #3  │     │
                    │  └─────┴─────┴─────┘     │
                    └──────────┬───────────────┘
                               │ 메시지 발행
                               ▼
                     ┌─────────────────┐
                     │  🔴 Redis       │
                     │  Streams        │
                     │  (메시지 큐)     │
                     └─────────┬───────┘
                               │ 메시지 전달
                    ┌──────────┼──────────┐
                    │          │          │
                    ▼          ▼          ▼
            ┌──────────┐ ┌──────────┐ ┌──────────┐
            │ 📥 Msg   │ │ 📥 Msg  │ │ 📥 Msg   │
            │Consumer#1│ │Consumer#2│ │Consumer#3│
            └─────┬────┘ └─────┬────┘ └─────┬────┘
                  │            │            │
                  └────────────┼────────────┘
                               │ CRUD 처리
                               ▼
                    ┌─────────────────┐
                    │ 🐘 PostgreSQL   │
                    │   데이터 저장    │
                    └─────────────────┘
```

**💡 핵심 사주 매칭 프로세스:**
1. **User Info → Lunar Calendar** → 사주 생성 및 오늘의 운세 계산
2. **Matcher → User Info** → 사주 정보 기반 매칭 대상 선별
3. **Matcher → LLM Connector** → AI 기반 궁합 분석 및 매칭 점수 산출
4. **Socket Publisher (병렬)** → 실시간 매칭 결과 전송

### ⚡ **실시간 통신 & 메시지 처리**
- **STOMP over WebSocket**: 실시간 채팅 및 매칭 알림
- **Redis Streams 기반 메시지 아키텍처**: 
  - **Socket Publisher**: WebSocket 연결 관리 및 실시간 메시지 발송
  - **Message Consumer**: Redis Stream에서 메시지 소비 및 배치 처리
  - **높은 처리량과 장애 격리**: 독립적 서비스 운영으로 안정성 확보
- **Redis Pub/Sub**: 채팅방 알림 및 상태 변경 실시간 브로드캐스트
- **LLM Connector**: AI 대화 조언을 위한 독립적 LLM 통신 서비스

### 🔐 **보안 & 인증**
- **JWT 기반 토큰 인증**: Access Token + Refresh Token 방식
- **Redis 기반 세션 관리**
- **Spring Security**

### 📊 **데이터 처리**
- **JPA + QueryDSL**
- **Redis Caching**
- **배치 처리**: 시간 조건 재화 갱신

<br><br><br>

## 📈 개발 로드맵

### 🚀 **v1.0 (현재)** - 기본 매칭 & 채팅
- ✅ 사주 기반 매칭 시스템
- ✅ 실시간 1:1 채팅
- ✅ 기본 궁합 분석
- ✅ JWT 인증 시스템
- ✅ 소셜 로그인
- ✅ NSFW detector(음란성 이미지 업로드 차단)
- 🔄 백오피스 
- 🔄 실명 인증 기능(SMS)
- 🔄 신고기능 및 LLM 활용한 ID 차단 자동화 기능
- 🔄 안드로이드 및 앱스토어 출시

### 💫 **v1.1 (2차)** - 채팅 고도화
- 🔄 **채팅 미션 기능**: 대화를 더 재미있게 만드는 미션 시스템
- 🔄 **궁합 및 사주 공유 기능**: 친구들과 궁합 결과 공유
- 🔄 **메인 커플 랭킹 시스템**: 미션 달성률에 따른 커플 순위

### 🎨 **v1.2 (3차)** - 아바타 시스템  
- 🔄 **AI 아바타 생성**: 사진 + 사주 요소 기반 개성 있는 프로필 생성
- 🔄 **아바타 커스터마이징**: 사주 특성이 반영된 아바타 꾸미기
- 🔄 **아바타 매칭**: 시각적 매력도를 고려한 매칭 옵션

### 🌐 **v1.3 (4차)** - 커뮤니티 기능
- 🔄 **사주 커뮤니티**: 사주 분석 결과 공유 및 토론
- 🔄 **소셜 기능**: 관심사 기반 모임
- 🔄 **콘텐츠 공유**: 궁합 결과, 운세 등 SNS 및 앱 내 공유 기능

### 💎 **v1.4 (5차)** - 프리미엄 서비스
- 🔄 **인앱 결제 시스템**: 안전하고 편리한 결제 환경
- 🔄 **프리미엄 기능**: 
  - 무제한 매칭
  - 상세 사주 분석 리포트
  
<br><br><br>

## 🔧 모니터링 & 알림
- Docker 컨테이너 기반 서비스 상태 모니터링
- Redis 연결 상태 및 메모리 사용량 추적
- 실시간 에러 로그 및 알림 시스템


## 👥 개발팀

| 구성원 | GitHub | 역할 |
|--------|--------|------|
| 주재범 | [@jaebum7396](https://github.com/jaebum7396) | 아키텍처, 인프라, 프론트엔드, 백엔드 |
| 배소연 | [@thdus12](https://github.com/thdus12) | 기획, 디자인, 프론트엔드, 백엔드 |

## 📞 Contact & Support

- 📧 **Email**: petfortune8996@gmail.com
- 🌐 **Website**: https://destiny-post.com  

---

<p align="center">
  <i>🔮 운명적인 만남, 지금 시작하세요! 🔮</i>
</p>
